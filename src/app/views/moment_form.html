<section class="moment-create-edit">
  <div class="search-wrapper">
    <div class="page-banner">
      <h1>Add or Edit A Moment</h1>
    </div>
    <form ng-submit="vm.search(search)">
      <input class="search-heavy" type="text" ng-model="search" name="search" placeholder="Search"/>
    </form>
    <section ng-show="vm.results.length > 0" class="results">
      <h2>Select your track</h2>
      <div class="results-nav">
        <button class="left-arrow" ng-click="vm.pagination.prevPage()"></button>
        <ul>
          <li ng-click="vm.addTrack(result)" ng-repeat="result in vm.results | pager:vm.pagination">
            <figure>
              <img src="{{ result.album.images[2].url }}" alt="" title="" >
              <figcaption>
                <p>{{ result.artists[0].name | limitTo: 11}}{{ result.artists[0].name.length > 11 ? '...' : '' }}</p>
                <p><span>{{ result.name | limitTo: 11}}{{ result.name.length > 11 ? '...' : '' }}</span></p>
              </figcaption>
            </figure>
          </li>
        </ul>
        <button class="right-arrow" ng-click="vm.pagination.prevPage()"></button>
      </div>
    </section>
  </div>
  <div class="form-wrapper">
    <form ng-submit="vm.save()">
      <div class="moment-date">
        <p>{{ vm.date | date: 'dd MMMM' }}</p>
        <p><span>{{ vm.date | date: 'yyyy' }}</span></p>
        <input type="date" ng-model="vm.date" value="{{Date.now() | date: 'yyyy-MM-dd'}}" required/>
      </div>
      <input class="btn-primary-alt" type="submit" name="Submit" value="Save">
      <!-- <input type="text" ng-model="vm.moment.title" placeholder="Title" /> -->
      <div class="content">
        <textarea id="moment-textarea" class="moment-content" type="text" ng-keyup="vm.contentExpand()" ng-model="vm.moment.text" placeholder="Content"></textarea>
        <!-- <input type="text" ng-model="vm.moment.author" placeholder="Author" /> -->
        <figure>
          <img src="{{ vm.track.album.images[1].url || '../images/defaultAlbum.png'}}" alt="Album cover for {{ vm.track.artists[0].name }}" title="{{ vm.track.artists[0].name }}">
          <figcaption ng-show="vm.track.artists.length > 0">
            <p class="moment-song">{{ vm.track.name}} <span>|</span> {{ vm.track.artists[0].name }}</p></figcaption>
        </figure>
      </div>
    </form>
  </div>
</section>
